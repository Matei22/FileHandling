package com.company;

import java.io.*;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.List;

import static java.nio.file.Files.readAllLines;

public class Main {

    public static void main(String[] args) throws IOException {

        readingFromAFile("src/com.company");
        WriteInFile("src/com.company", "src/file2.txt");
        CopyFile("src/file2.txt", "src/com.company");
    }

    public static void WriteInFile(String pathOfFile, String newPath) throws IOException{
        int count = 1;
        InputStreamReader isr = new InputStreamReader(System.in);
        BufferedReader bri = new BufferedReader(isr);
        FileReader fr = new FileReader(pathOfFile);
        BufferedReader brw = new BufferedReader(fr);
        PrintWriter pr = new PrintWriter(newPath);

        try(isr; bri; fr; brw; pr) {
            String line;
            while((line = brw.readLine()) != null){
                pr.println(line);
            }
            line = bri.readLine();
            pr.println(line);

        }
        finally {
            pr.close();
            brw.close();
            fr.close();
            bri.close();
            isr.close();
        }
    }
    public static void CopyFile(String pathOfFile, String newPath) throws IOException{
        FileReader fr = new FileReader(pathOfFile);
        BufferedReader br = new BufferedReader(fr);
        PrintWriter pr = new PrintWriter(newPath);

        try(fr; br; pr) {
            String line;
            while((line = br.readLine()) != null){
                pr.println(line);
            }

        }
        finally {
            pr.close();
            br.close();
            fr.close();
        }
    }

    public static void readingFromAFile(String pathToTheFile) throws IOException {
        Path p = Paths.get(pathToTheFile);
        List<String> lines = readAllLines(p);

        for(String line: lines){
            System.out.println(line);
        }
    }


}
